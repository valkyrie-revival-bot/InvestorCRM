---
phase: 10-ui-polish-performance
plan: 03
type: execute
wave: 2
depends_on: ["10-01", "10-02"]
files_modified:
  - app/(dashboard)/loading.tsx
  - app/(dashboard)/investors/loading.tsx
  - app/(dashboard)/investors/[id]/loading.tsx
  - app/(dashboard)/linkedin/import/loading.tsx
  - app/(dashboard)/settings/users/loading.tsx
  - app/(dashboard)/audit-logs/loading.tsx
  - components/ui/skeleton.tsx
autonomous: true

must_haves:
  truths:
    - "Every dashboard route shows a skeleton screen while loading"
    - "Skeleton screens match the actual content layout of each page"
    - "Loading states provide immediate visual feedback on page navigation"
  artifacts:
    - path: "app/(dashboard)/loading.tsx"
      provides: "Dashboard home skeleton with metric card placeholders"
      min_lines: 20
    - path: "app/(dashboard)/investors/loading.tsx"
      provides: "Pipeline view skeleton with table/search/filter placeholders"
      min_lines: 25
    - path: "app/(dashboard)/investors/[id]/loading.tsx"
      provides: "Investor detail skeleton with section placeholders"
      min_lines: 30
    - path: "components/ui/skeleton.tsx"
      provides: "shadcn/ui Skeleton component"
      min_lines: 5
  key_links:
    - from: "app/(dashboard)/investors/loading.tsx"
      to: "components/ui/skeleton.tsx"
      via: "Skeleton component import"
      pattern: "import.*Skeleton.*from"
---

<objective>
Add loading.tsx skeleton screens for all dashboard routes to provide instant visual feedback during page transitions and data loading.

Purpose: Without loading states, page navigations show a blank screen until data arrives from Supabase. This makes the app feel slow and unresponsive. Route-level loading.tsx files in Next.js App Router automatically wrap page content in Suspense boundaries, providing instant skeleton feedback during server data fetching.
Output: Skeleton loading screens for all 6 dashboard routes.
</objective>

<execution_context>
@/Users/RAZER/.claude/get-shit-done/workflows/execute-plan.md
@/Users/RAZER/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-ui-polish-performance/10-RESEARCH.md
@app/(dashboard)/page.tsx
@app/(dashboard)/investors/page.tsx
@app/(dashboard)/investors/[id]/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install shadcn/ui Skeleton component and create route loading screens</name>
  <files>components/ui/skeleton.tsx, app/(dashboard)/loading.tsx, app/(dashboard)/investors/loading.tsx, app/(dashboard)/investors/[id]/loading.tsx, app/(dashboard)/linkedin/import/loading.tsx, app/(dashboard)/settings/users/loading.tsx, app/(dashboard)/audit-logs/loading.tsx</files>
  <action>
First, check if `components/ui/skeleton.tsx` exists. If not, install it:
```bash
cd "/Users/RAZER/Documents/projects/sales tracking" && npx shadcn@latest add skeleton --yes
```

If it already exists, skip installation.

Then create loading.tsx files for each route. Each skeleton MUST match the actual layout of its corresponding page.

**1. app/(dashboard)/loading.tsx** — Dashboard skeleton:
```tsx
import { Skeleton } from "@/components/ui/skeleton";
import { Card, CardContent, CardHeader } from "@/components/ui/card";

export default function DashboardLoading() {
  return (
    <div className="space-y-6">
      {/* Header */}
      <div>
        <Skeleton className="h-9 w-[180px]" />
        <Skeleton className="h-5 w-[280px] mt-2" />
      </div>

      {/* Top metric cards row */}
      <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
        {Array.from({ length: 4 }).map((_, i) => (
          <Card key={i}>
            <CardHeader className="pb-2">
              <Skeleton className="h-4 w-[120px]" />
            </CardHeader>
            <CardContent>
              <Skeleton className="h-8 w-[80px]" />
              <Skeleton className="h-3 w-[100px] mt-2" />
            </CardContent>
          </Card>
        ))}
      </div>

      {/* Second row */}
      <div className="grid gap-4 md:grid-cols-2">
        {Array.from({ length: 2 }).map((_, i) => (
          <Card key={i}>
            <CardHeader className="pb-2">
              <Skeleton className="h-4 w-[140px]" />
            </CardHeader>
            <CardContent>
              <Skeleton className="h-8 w-[60px]" />
              <Skeleton className="h-3 w-[120px] mt-2" />
            </CardContent>
          </Card>
        ))}
      </div>
    </div>
  );
}
```

**2. app/(dashboard)/investors/loading.tsx** — Pipeline skeleton:
```tsx
import { Skeleton } from "@/components/ui/skeleton";

export default function InvestorsLoading() {
  return (
    <div className="space-y-6">
      {/* Header with title and create button */}
      <div className="flex items-center justify-between">
        <div>
          <Skeleton className="h-9 w-[220px]" />
          <Skeleton className="h-5 w-[300px] mt-2" />
        </div>
        <Skeleton className="h-10 w-[140px]" />
      </div>

      {/* View switcher tabs */}
      <div className="flex items-center gap-2">
        <Skeleton className="h-10 w-[200px] rounded-lg" />
      </div>

      {/* Search and filters */}
      <div className="flex items-center gap-4">
        <Skeleton className="h-10 flex-1 max-w-sm" />
        <Skeleton className="h-10 w-[130px]" />
        <Skeleton className="h-10 w-[130px]" />
        <Skeleton className="h-10 w-[130px]" />
      </div>

      {/* Summary bar */}
      <Skeleton className="h-5 w-[350px]" />

      {/* Table rows */}
      <div className="rounded-lg border">
        {/* Table header */}
        <div className="flex items-center gap-4 px-4 py-3 border-b">
          <Skeleton className="h-4 w-[180px]" />
          <Skeleton className="h-4 w-[100px]" />
          <Skeleton className="h-4 w-[120px]" />
          <Skeleton className="h-4 w-[80px]" />
          <Skeleton className="h-4 w-[100px]" />
          <Skeleton className="h-4 w-[80px]" />
        </div>
        {/* Table body */}
        {Array.from({ length: 8 }).map((_, i) => (
          <div key={i} className="flex items-center gap-4 px-4 py-4 border-b last:border-0">
            <Skeleton className="h-5 w-[180px]" />
            <Skeleton className="h-5 w-[100px]" />
            <Skeleton className="h-6 w-[120px] rounded-full" />
            <Skeleton className="h-5 w-[80px]" />
            <Skeleton className="h-5 w-[100px]" />
            <Skeleton className="h-5 w-[80px]" />
          </div>
        ))}
      </div>
    </div>
  );
}
```

**3. app/(dashboard)/investors/[id]/loading.tsx** — Detail skeleton:
```tsx
import { Skeleton } from "@/components/ui/skeleton";

export default function InvestorDetailLoading() {
  return (
    <div className="container max-w-5xl py-8">
      {/* Header */}
      <div className="mb-6 flex items-center justify-between">
        <div className="flex items-center gap-4">
          <Skeleton className="h-10 w-10 rounded-md" />
          <div>
            <Skeleton className="h-9 w-[250px]" />
            <Skeleton className="h-4 w-[120px] mt-2" />
          </div>
        </div>
        <Skeleton className="h-9 w-[80px]" />
      </div>

      {/* Form sections */}
      <div className="space-y-6">
        {/* Section 1: Core Details */}
        <div className="rounded-lg border bg-card p-6">
          <Skeleton className="h-6 w-[140px] mb-4" />
          <div className="grid grid-cols-2 gap-4">
            {Array.from({ length: 6 }).map((_, i) => (
              <div key={i} className="space-y-2">
                <Skeleton className="h-4 w-[80px]" />
                <Skeleton className="h-9 w-full" />
              </div>
            ))}
          </div>
        </div>

        {/* Section 2: Strategy */}
        <div className="rounded-lg border bg-card p-6">
          <Skeleton className="h-6 w-[100px] mb-4" />
          <div className="space-y-4">
            <Skeleton className="h-20 w-full" />
            <Skeleton className="h-20 w-full" />
          </div>
        </div>

        {/* Section 3: Contacts */}
        <div className="rounded-lg border bg-card p-6">
          <Skeleton className="h-6 w-[90px] mb-4" />
          <div className="space-y-3">
            {Array.from({ length: 2 }).map((_, i) => (
              <div key={i} className="flex items-center gap-3">
                <Skeleton className="h-10 w-10 rounded-full" />
                <div className="flex-1">
                  <Skeleton className="h-4 w-[150px]" />
                  <Skeleton className="h-3 w-[200px] mt-1" />
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* Section 4: Activity Timeline */}
        <div className="rounded-lg border bg-card p-6">
          <Skeleton className="h-6 w-[140px] mb-4" />
          <div className="space-y-4">
            {Array.from({ length: 4 }).map((_, i) => (
              <div key={i} className="flex gap-3">
                <Skeleton className="h-3 w-3 rounded-full mt-1 shrink-0" />
                <div className="flex-1">
                  <Skeleton className="h-4 w-[200px]" />
                  <Skeleton className="h-3 w-[300px] mt-1" />
                  <Skeleton className="h-3 w-[100px] mt-1" />
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  );
}
```

**4. app/(dashboard)/linkedin/import/loading.tsx** — LinkedIn import skeleton:
```tsx
import { Skeleton } from "@/components/ui/skeleton";
import { Card, CardContent, CardHeader } from "@/components/ui/card";

export default function LinkedInImportLoading() {
  return (
    <div className="space-y-6">
      <div>
        <Skeleton className="h-9 w-[280px]" />
        <Skeleton className="h-5 w-[350px] mt-2" />
      </div>
      <Card>
        <CardHeader>
          <Skeleton className="h-6 w-[200px]" />
          <Skeleton className="h-4 w-[300px] mt-1" />
        </CardHeader>
        <CardContent>
          <Skeleton className="h-40 w-full rounded-lg" />
        </CardContent>
      </Card>
    </div>
  );
}
```

**5. app/(dashboard)/settings/users/loading.tsx** — Users page skeleton:
```tsx
import { Skeleton } from "@/components/ui/skeleton";

export default function UsersLoading() {
  return (
    <div className="space-y-6">
      <div>
        <Skeleton className="h-9 w-[200px]" />
        <Skeleton className="h-5 w-[250px] mt-2" />
      </div>
      <div className="rounded-lg border">
        <div className="flex items-center gap-4 px-4 py-3 border-b">
          <Skeleton className="h-4 w-[150px]" />
          <Skeleton className="h-4 w-[80px]" />
          <Skeleton className="h-4 w-[120px]" />
          <Skeleton className="h-4 w-[80px]" />
        </div>
        {Array.from({ length: 4 }).map((_, i) => (
          <div key={i} className="flex items-center gap-4 px-4 py-4 border-b last:border-0">
            <Skeleton className="h-5 w-[150px]" />
            <Skeleton className="h-6 w-[70px] rounded-full" />
            <Skeleton className="h-5 w-[120px]" />
            <Skeleton className="h-8 w-[100px]" />
          </div>
        ))}
      </div>
    </div>
  );
}
```

**6. app/(dashboard)/audit-logs/loading.tsx** — Audit logs skeleton:
```tsx
import { Skeleton } from "@/components/ui/skeleton";

export default function AuditLogsLoading() {
  return (
    <div className="space-y-6">
      <div>
        <Skeleton className="h-9 w-[150px]" />
        <Skeleton className="h-5 w-[200px] mt-2" />
      </div>
      <div className="rounded-lg border">
        {Array.from({ length: 6 }).map((_, i) => (
          <div key={i} className="flex items-center gap-4 px-4 py-4 border-b last:border-0">
            <Skeleton className="h-5 w-[120px]" />
            <Skeleton className="h-5 w-[180px]" />
            <Skeleton className="h-5 w-[150px]" />
            <Skeleton className="h-5 w-[100px]" />
          </div>
        ))}
      </div>
    </div>
  );
}
```

WHY: Next.js App Router automatically uses loading.tsx as Suspense fallback for the route. This means every page navigation immediately shows the skeleton (no code changes to pages needed). Matching the skeleton to the actual layout reduces perceived layout shift.
  </action>
  <verify>
Run `npm run build` to confirm all loading.tsx files compile.
Verify each route directory has a loading.tsx:
```bash
ls app/(dashboard)/loading.tsx app/(dashboard)/investors/loading.tsx app/(dashboard)/investors/\[id\]/loading.tsx app/(dashboard)/linkedin/import/loading.tsx app/(dashboard)/settings/users/loading.tsx app/(dashboard)/audit-logs/loading.tsx
```
  </verify>
  <done>All 6 dashboard routes have loading.tsx skeleton screens that match their actual content layout. Skeleton component installed. Build succeeds.</done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds without errors
2. 6 loading.tsx files exist in their respective route directories
3. Each loading.tsx imports Skeleton from @/components/ui/skeleton
4. Skeleton shapes match the actual page layouts (metric cards, table, detail sections)
</verification>

<success_criteria>
- Skeleton component available at components/ui/skeleton.tsx
- All 6 dashboard routes have route-level loading.tsx files
- Skeletons match actual content layout (cards, tables, sections, timelines)
- Build compiles without errors
- Page transitions show immediate skeleton feedback
</success_criteria>

<output>
After completion, create `.planning/phases/10-ui-polish-performance/10-03-SUMMARY.md`
</output>
