---
phase: 10-ui-polish-performance
plan: 04
type: execute
wave: 2
depends_on: ["10-01"]
files_modified:
  - components/investors/investor-form-sections.tsx
  - components/investors/investor-list-table.tsx
  - components/investors/kanban-card.tsx
  - components/investors/quick-create-modal.tsx
  - components/investors/quick-add-activity-modal.tsx
  - app/(dashboard)/investors/[id]/page.tsx
  - app/(dashboard)/investors/page.tsx
autonomous: true

must_haves:
  truths:
    - "All forms display inline validation errors below fields with helpful messages"
    - "Buttons show loading/disabled state during async operations"
    - "Page layout adapts gracefully from 1280px to 1920px+ screens"
    - "Empty states provide clear direction to the user"
    - "All Card components use border-border rounded-lg and p-4 or p-6 spacing consistently"
  artifacts:
    - path: "components/investors/quick-create-modal.tsx"
      provides: "Quick create form with inline validation messages and loading button"
      contains: "isSubmitting"
    - path: "components/investors/kanban-card.tsx"
      provides: "Polished kanban card with consistent spacing and visual hierarchy"
      min_lines: 30
    - path: "app/(dashboard)/investors/[id]/page.tsx"
      provides: "Detail page with consistent section styling"
      min_lines: 80
  key_links:
    - from: "components/investors/quick-create-modal.tsx"
      to: "lib/validations/investor-schema.ts"
      via: "Zod validation with zodResolver"
      pattern: "zodResolver"
---

<objective>
Polish all UI components for consistency, responsive behavior, form validation display, and loading states across the application.

Purpose: Individual components were built across 9 phases by different plan executions. This plan harmonizes the visual language â€” consistent card borders, spacing, button states, form validation, responsive breakpoints, and empty states. The result must feel like a single cohesive product, not a collection of features.
Output: Polished, consistent UI across all investor views, forms, and interactive elements.
</objective>

<execution_context>
@/Users/RAZER/.claude/get-shit-done/workflows/execute-plan.md
@/Users/RAZER/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@components/investors/quick-create-modal.tsx
@components/investors/quick-add-activity-modal.tsx
@components/investors/kanban-card.tsx
@components/investors/investor-list-table.tsx
@components/investors/investor-form-sections.tsx
@app/(dashboard)/investors/[id]/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Polish forms with inline validation display and loading states</name>
  <files>components/investors/quick-create-modal.tsx, components/investors/quick-add-activity-modal.tsx</files>
  <action>
Audit and polish the two primary form modals for consistent validation and loading UX.

**Quick Create Modal (quick-create-modal.tsx):**

1. Ensure every form field has a validation error display. After each Input/Select, add:
```tsx
{form.formState.errors.firm_name && (
  <p className="text-xs text-destructive mt-1">
    {form.formState.errors.firm_name.message}
  </p>
)}
```

2. The submit button MUST show loading state during submission:
```tsx
<Button type="submit" disabled={form.formState.isSubmitting}>
  {form.formState.isSubmitting ? (
    <>
      <Loader2 className="mr-2 h-4 w-4 animate-spin" />
      Creating...
    </>
  ) : (
    'Create Investor'
  )}
</Button>
```
Import `Loader2` from lucide-react.

3. Add proper field labels using the shadcn/ui Label component before each input field. Each field should have: Label + Input + Error message.

4. Ensure the dialog has proper padding and spacing: `className="sm:max-w-[480px]"` on DialogContent.

**Quick Add Activity Modal (quick-add-activity-modal.tsx):**

1. Same validation error display pattern for all fields.

2. Same loading button pattern with Loader2 spinner during submission.

3. Ensure toggle buttons (for activity type selection) have clear active/inactive visual states. Active: `bg-primary text-primary-foreground`. Inactive: `bg-muted text-muted-foreground hover:bg-muted/80`.

4. If the modal has a Textarea for notes/description, ensure `min-h-[80px]` for comfortable input.

**For both modals:**
- Ensure Cancel button is `variant="ghost"` or `variant="outline"`
- Ensure primary action button is `variant="default"` (uses brand primary color from Plan 01)
- Ensure buttons are right-aligned in DialogFooter with gap-2
- Add `autoFocus` to the first input field in each modal

WHY: Inline validation prevents submit-then-see-errors pattern. Loading spinners prevent double-submit. Consistent button styling reinforces the design system.
  </action>
  <verify>
Run `npm run build` to confirm TypeScript compiles.
Grep for "isSubmitting" in both modal files to confirm loading state.
Grep for "text-destructive" in both modal files to confirm error styling.
  </verify>
  <done>Both form modals show inline validation errors, loading spinners on submit, proper field labels, and consistent button styling</done>
</task>

<task type="auto">
  <name>Task 2: Polish investor views for consistency and responsive behavior</name>
  <files>components/investors/kanban-card.tsx, components/investors/investor-list-table.tsx, components/investors/investor-form-sections.tsx, app/(dashboard)/investors/[id]/page.tsx, app/(dashboard)/investors/page.tsx</files>
  <action>
Audit and polish investor views for visual consistency, responsive behavior, and professional quality.

**Kanban Card (kanban-card.tsx):**
1. Ensure consistent padding: `p-3` or `p-4` on Card
2. Ensure firm name uses `font-semibold text-sm truncate` (don't let long names break layout)
3. Stage badge and days-in-stage indicator should have consistent sizing
4. Add subtle hover effect: `hover:border-brand-primary/30 transition-colors` on the card (if not already present, and if it doesn't interfere with drag-and-drop)
5. Ensure the card has a max-width that works in the kanban column

**Investor List Table (investor-list-table.tsx):**
1. Ensure table uses shadcn/ui Table component styling consistently (Table, TableHeader, TableRow, TableHead, TableBody, TableCell)
2. Firm name column should be a Link to detail page with `hover:underline text-foreground font-medium`
3. Stage badges should use consistent color coding across table and kanban
4. Add `whitespace-nowrap` to cells that shouldn't wrap (stage, dates, values)
5. Ensure the table is wrapped in `overflow-x-auto` div for horizontal scroll on smaller screens

**Investor Detail Page (app/(dashboard)/investors/[id]/page.tsx):**
1. Ensure all section cards have consistent styling:
   - `rounded-lg border bg-card p-6`
   - Section headers: `text-lg font-semibold mb-4`
2. The header back button + title section should have consistent spacing
3. Ensure the page works well at 1280px width (no horizontal overflow)
4. Add `max-w-5xl` container if not already present (it is)

**Investor Form Sections (investor-form-sections.tsx):**
1. Ensure field labels use consistent `text-sm font-medium text-muted-foreground` styling
2. Ensure InlineEditField components have consistent spacing between label and value
3. Ensure collapsible sections have consistent padding and border treatment

**Pipeline Page (app/(dashboard)/investors/page.tsx):**
1. Ensure the page header has consistent typography with other pages
2. Ensure the empty state is centered and has a CTA button

**Responsive checks for all views:**
- At 1280px: All content visible, no horizontal scroll on main content
- Use `container mx-auto px-4` for consistent page padding
- Grid columns: `grid-cols-1 md:grid-cols-2 lg:grid-cols-3` for card layouts
- Tables: wrapped in `overflow-x-auto` div

WHY: Visual consistency across views is what separates "prototype" from "product". Each component was built independently; this pass harmonizes them into a cohesive design system.

Note: Be surgical. Read each file first, identify SPECIFIC inconsistencies, and make targeted fixes. Don't rewrite components that already look good.
  </action>
  <verify>
Run `npm run build` to confirm TypeScript compiles.
Visually inspect that all investor views use consistent Card/Badge/Table component patterns.
Check for responsive overflow at 1280px viewport.
  </verify>
  <done>Kanban cards have consistent styling and hover effects. Table uses proper shadcn/ui components with truncation. Detail page sections have uniform borders and spacing. All views work at 1280px+.</done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds
2. Form modals display inline validation errors (grep for "text-destructive")
3. Submit buttons show loading state (grep for "isSubmitting" or "Loader2")
4. Table has overflow-x-auto wrapper
5. All section cards use consistent `rounded-lg border bg-card p-6` pattern
</verification>

<success_criteria>
- Quick create and quick add activity modals show inline validation and loading states
- Kanban cards have consistent padding, truncation, and hover effects
- List table uses proper shadcn/ui Table components with horizontal scroll support
- Detail page sections have uniform card styling
- Layout adapts gracefully at 1280px and 1920px widths
- Build compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/10-ui-polish-performance/10-04-SUMMARY.md`
</output>
